# Урок 11. Сервис-ориентированные архитектуры
## Пишем Т.З.

Представим, что у вас интернет-магазин. Вам необходимо интегрировать некоторые из перечисленных функций. Вот как бы это выглядело на примере интернет-магазина:

Определение требований

Сначала уточните все требования. Что именно должен делать каждый компонент? Какие данные он обрабатывает? С какими системами взаимодействует?
Исследование

Изучите документацию API производителя роботов-пылесосов.
Ознакомьтесь с базовыми понятиями о том, как работают адаптеры, конфигурационные системы и системы мониторинга.
Проектирование архитектуры

Начните с высокоуровневой архитектуры. Какие основные компоненты будут в системе? Как они взаимодействуют между собой?
Для каждого компонента определите его основные функции.
Выбор инструментов и технологий

Определите, какие технологии и инструменты будут наиболее подходящими для реализации каждого компонента. Например, для работы с БД может быть выбран ORM, а для мониторинга - Grafana или Prometheus.
Разработка и тестирование

Разработайте каждый компонент по очереди.
Проводите тестирование на каждом этапе, чтобы убедиться в корректности работы компонентов.
Интеграция и проверка

После того как все компоненты разработаны, проведите их интеграцию и убедитесь, что они корректно работают вместе.
Документация

Создайте документацию, которая описывает работу каждого компонента, а также инструкции по настройке и использованию системы.``

## Пример

Компонент подключения по API к производителю запчастей:
Цель: Автоматическое обновление ассортимента, цен, наличия на складе, и получение диагностических данных о проданных запчастях.
Реализация: Создать API-клиент, который будет регулярно запрашивать информацию у производителя или поставщика. Например, использовать REST или GraphQL API.

Адаптеры интерфейсов:
Адаптер для подключения к БД:
Цель: Взаимодействие с базой данных магазина.
Реализация: Использование ORM (Object-Relational Mapping) библиотеки, такой как Hibernate (Java) или SQLAlchemy (Python), для работы с базой данных.

Шлюзы к интерфейсу:
Цель: Предоставление API для мобильных приложений, сторонних платформ или партнеров.
Реализация: Создание RESTful API с использованием таких фреймворков, как Spring Boot (Java) или Flask (Python).

Шлюзы к третьим источникам:
Цель: Интеграция с другими сервисами: отзывы, платежные системы, службы доставки.
Реализация: API-клиенты или SDK для интеграции с конкретными внешними сервисами.

Компонент внешнего конфигурирования:
Цель: Гибкая настройка бизнес-логики: скидки, акции, условия доставки.
Реализация: Централизованная система конфигурации, возможно, с использованием таких инструментов, как Apache ZooKeeper или etcd.

Компонент самодиагностики (Self-checking):
Цель: Мониторинг здоровья системы, реагирование на проблемы в реальном времени.
Реализация:
Сбор метрик с каждого компонента системы.
Интеграция с системами мониторинга, такими как Grafana (для визуализации) и Prometheus (для сбора метрик).
Алерты при обнаружении проблем.
Все эти компоненты должны быть разработаны с учетом специфики бизнеса продажи запчастей: большое количество SKU, возможные кросс-ссылки между запчастями (например, совместимость), потребность в быстрой доставке и т.д.